generator client {
  provider      = "prisma-client-js"
  binaryTargets = ["native", "linux-musl"]
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Lead {
  id                Int         @id @default(autoincrement())
  leadId            String      @unique
  linkedinUrl       String
  employeeRatio     Decimal
  leadSource        String
  employeeCount     Int
  createdAt         DateTime    @default(now())
  company           String
  website           String
  industry          String
  leadStatus        String
  hourlyRate        Decimal
  deployedCount     Int?
  country           String
  annualRevenue     Decimal
  vendorManagement  String
  address           String      @default("N/A")
  description       String      @default("N/A")
  contact           Contact[]
  activity          Activity[]
  LeadSourcer       LeadSourcer @relation(fields: [leadSourcerUserId], references: [userId])
  leadSourcerUserId Int
}

model Activity {
  id             Int         @id @default(autoincrement())
  lead           Lead        @relation(fields: [leadId], references: [leadId])
  leadId         String
  description    String
  typeOfActivity String
  activityTime   DateTime    @default(now())
  leadSourcer    LeadSourcer @relation(fields: [createdBy], references: [userId])
  createdBy      Int
  createdAt      DateTime    @default(now())
  modifiedAt     DateTime    @default(now())
}

model Contact {
  id               Int     @id @default(autoincrement())
  lead             Lead    @relation(fields: [leadId], references: [leadId])
  leadId           String
  contactFirstName String
  contactLastName  String
  title            String
  phone            String
  email            String
  skypeId          String?
}

model LeadSourcer {
  userId     Int        @id @default(autoincrement())
  name       String
  email      String     @unique
  phone      String     @unique
  password   String
  lead       Lead[]
  activities Activity[]
}
